<%- include('../partials/head') %>
</head>
<body class="bg-gradient-to-br from-slate-700 via-gray-500 to-slate-800 min-h-screen">
  <%- include('../partials/nav') %>

  <main class="min-h-screen flex items-center justify-center py-12 px-4">
    <div class="w-full max-w-2xl bg-gradient-to-br from-slate-900 via-gray-800 to-black rounded-2xl shadow-2xl p-10 border border-gray-800">
      <h1 class="text-3xl md:text-4xl font-extrabold text-center mb-2
                 bg-gradient-to-r from-pink-300 via-purple-400 to-indigo-400
                 bg-clip-text text-transparent drop-shadow-xl">
        <%= editing ? "Edit" : "Register" %> Your Home on EliteStay
      </h1>

      <p class="text-center text-gray-300 mb-8">Fill in the details below to <%= editing ? "update" : "list" %> your property</p>

      <form action="/host/<%= editing ? "edit-home" : "add-home" %>" method="POST" enctype="multipart/form-data" class="space-y-6">
        <input type="hidden" name="id" value="<%= editing ? home._id : '' %>" />

        <div>
          <label class="block text-gray-200 font-semibold mb-2">House Name</label>
          <input
            type="text"
            name="houseName"
            value="<%= editing ? home.houseName : '' %>"
            placeholder="Enter your House Name"
            required
            class="w-full px-4 py-3 rounded-lg bg-white/5 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
          />
        </div>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
          <div>
            <label class="block text-gray-200 font-semibold mb-2">Price Per Night</label>
            <input
              type="number"
              name="price"
              value="<%= editing ? home.price : '' %>"
              placeholder="â‚¹0.00"
              required
              class="w-full px-4 py-3 rounded-lg bg-white/5 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
            />
          </div>

          <div>
            <label class="block text-gray-200 font-semibold mb-2">Rating</label>
            <input
              type="number"
              name="rating"
              value="<%= editing ? home.rating : '' %>"
              placeholder="0.0 - 5.0"
              min="0" max="5" step="0.1"
              class="w-full px-4 py-3 rounded-lg bg-white/5 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
            />
          </div>
        </div>

        <div>
          <label class="block text-gray-200 font-semibold mb-2">Location</label>
          <input
            type="text"
            name="location"
            value="<%= editing ? home.location : '' %>"
            placeholder="City, State or Region"
            required
            class="w-full px-4 py-3 rounded-lg bg-white/5 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
          />
        </div>

        <div>
          <label class="block text-gray-200 font-semibold mb-2">Upload Your Photos</label>
          <input
            type="file"
            accept="image/*"
            name="photo"
            class="w-full text-gray-200 rounded-lg bg-white/3 border border-gray-700 p-3 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition"
          />
          <% if (editing && home.photo) { %>
            <div class="mt-3">
              <p class="text-sm text-gray-400 mb-2">Current photo:</p>
              <div class="w-40 h-28 rounded-lg overflow-hidden border border-gray-700">
                <img src="<%= home.photo %>" alt="current photo" class="w-full h-full object-cover">
              </div>
            </div>
          <% } %>
        </div>

        <div>
          <label class="block text-gray-200 font-semibold mb-2">Description</label>
          <textarea
            name="description"
            placeholder="Enter details about your home"
            rows="5"
            class="w-full px-4 py-3 rounded-lg bg-white/5 border border-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-500 transition resize-none"
          ><%= editing ? home.description : '' %></textarea>
        </div>

        <button type="submit" class="w-full inline-flex items-center justify-center gap-3
                px-6 py-3 rounded-xl text-lg font-semibold text-white
                bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700
                shadow-lg transform hover:scale-105 transition">
          <%= editing ? "Update Home" : "Add Home" %>
        </button>
      </form>
    </div>
  </main>

  <%- include('../partials/footer') %>
</body>
</html>
